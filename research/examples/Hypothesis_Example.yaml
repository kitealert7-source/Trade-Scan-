# RESEARCH DEFINITION â€” EXAMPLE (PHASE 14)
# ID: Range_Breakout_VolFilter_v2

# 1. METADATA
id: "Range_Breakout_VolFilter_v2"
researcher: "J. Doe"
created_at: "2024-05-15"
base_strategy: "Range_Breakout"
engine_version: "1.2.0"

# 2. BASELINE REFERENCE
baseline:
  id: "Range_Breakout_v1"
  manifest_hash: "a1b2c3d4e5f6..."  # MANDATORY

# 3. HYPOTHESIS & VALIDATION
hypothesis:
  mechanism: "Add ATR(14) > SMA(50) filter to avoid chop."
  mechanism_validation:
    expected_trade_count: "decrease"      # Filter removes trades
    expected_drawdown: "decrease"         # Avoids chop losses
    expected_volatility_exp: "neutral"    # No change to sizing

# 4. DESIGN
design:
  independent_variable: "Volatility Filter (ATR)"
  other_changes: []

# 5. TEST SCOPE
test_scope:
  symbols:
    - "EURUSD"
    - "GBPUSD"
    - "USDJPY"
  timeframe: "1h"
  start_date: "2020-01-01"
  end_date: "2023-12-31"

# 6. EVALUATION MODEL (10-Metric Binary Scoring)
# Promotion Threshold: 7 / 10
evaluation:
  sharpe_min: 1.4              # Metric 1
  return_to_drawdown_min: 3.0  # Metric 2
  expectancy_min: 0.6          # Metric 3
  profit_factor_min: 1.3       # Metric 4
  max_drawdown_pct_max: 20.0   # Metric 5
  equity_stability_rule: true  # Metric 6
  trade_count_min: 350         # Metric 7
  win_rate_min: 45.0           # Metric 8
  avg_concurrent_max: 10       # Metric 9
  exposure_pct_max: 50.0       # Metric 10

# 7. OPERATIONAL CONSTRAINTS
operational_constraints:
  max_concurrency: 20

# 8. DECISION
decision:
  status: "ADVANCE"
  score: 9                     # Passed 9/10 metrics
  promoted: true
  notes: |
    Achieved Sharpe 1.55 (+0.15 vs target).
    Return/DD reached 3.5.
    Only missed 'win_rate_min' (43% actual vs 45% target), but profitability compensated.
    Score 9 >= 7 -> PROMOTE.
