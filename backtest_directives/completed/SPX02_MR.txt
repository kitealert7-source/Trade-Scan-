test:
  name: SPX02_MR
  family: SPX
  strategy: SPX02_MR

  broker: OctaFX
  timeframe: 1d
  session_time_reference: UTC

  start_date: 2015-01-01
  end_date: 2026-01-31

symbols:
  - SPX500

indicators:
  - indicators.structure.highest_high
  - indicators.trend.linreg_regime
  - indicators.trend.linreg_regime_htf
  - indicators.trend.kalman_regime
  - indicators.trend.trend_persistence
  - indicators.volatility.volatility_regime
  - indicators.volatility.atr

execution_rules:
  pyramiding: false
  entry_when_flat_only: true
  reset_on_exit: true
  entry_logic:
    type: volatility_pullback
    lookback_bars: 5
    atr_length: 10
    atr_multiplier: 1.6
    condition: close_less_than_hh_minus_atr
  exit_logic:
    type: dynamic_or_time
    price_exit: close_greater_than_hh_prev
    time_exit_bars: 4
  stop_loss:
    type: none
  trailing_stop:
    enabled: false

order_placement:
  type: market
  execution_timing: next_bar_open

trade_management:
  direction: long_only
  reentry:
    allowed: false
